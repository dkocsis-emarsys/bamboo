/*! For license information please see index.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(function(){return function(){var t={598:function(t,e){!function(){"use strict";var t={912:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(900))&&r.__esModule?r:{default:r},s=function(t){return"object"==typeof t},a=function(t){return t.replace(/[ _.-](\w|$)/g,(function(t,e){return e.toUpperCase()}))};e.default=function t(e){var n=null==e?e:(0,i.default)(e,(function(e,n){var r=[];return Array.isArray(n)?(n.forEach((function(e){s(e)&&!Array.isArray(e)?r.push(t(e)):r.push(e)})),[a(e),r]):n?n instanceof Date?[a(e),n]:s(n)?[a(e),t(n)]:[a(e),n]:[a(e),n]}));return Array.isArray(e)?function(t){return Object.keys(t).map((function(e){return t[e]}))}(n):n},t.exports=e.default},900:function(t){t.exports=function(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var s=r[i],a=e(s,t[s],t);n[a[0]]=a[1]}return n}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};!function(){r.r(i),r.d(i,{default:function(){return c}});var t=r(912),e=r.n(t),n=t=>t&&t.constructor==={}.constructor,s=function t(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(!i.length)return e;var a=i.shift();if(n(e)&&n(a))for(var o in a)n(a[o])?(e[o]||Object.assign(e,{[o]:{}}),t(e[o],a[o])):Object.assign(e,{[o]:a[o]});return t(e,...i)};function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class c{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._subscriptions=[],this._data={},this._options={},this._setDefaultState(t)}_get(t,e){return t?t.split(".").reduce(((t,e)=>t?t[e]:void 0),e):e}get(t){return this._get(t,this._data)}set(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};void 0!==n.defaultValue&&this.setOptions(t,{defaultValue:n.defaultValue});var r=this._getOptions(t),i=this._get(t,this._data);"function"==typeof e&&n.isTransformFunction&&(e=e(i,this._getDefaultValue(t))),e=this._transformValue(e,i,r);var a=t.split(".").reduceRight(((t,e)=>({[e]:t})),e);return this._get(t,this._data)===this._get(t,a)||(this._data=s(this._data,a),(void 0===n.triggerSubscriptionCallback||n.triggerSubscriptionCallback)&&this._triggerSubscriptionCallbacks(t,a,n)),{name:t,value:e}}setMultiple(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t).map((n=>this.set(n,t[n],o(o({},e),{},{triggerSubscriptionCallback:!1}))));return this._triggerSubscriptionCallbacks(),n}setOptions(t,e){if(this._options[t]=e,void 0!==e.defaultValue&&void 0===this.get(t)){var n=t.split(".").reduceRight(((t,e)=>({[e]:t})),e.defaultValue);this._data=s(this._data,n)}}_setDefaultState(t){var e=this._objectToDotNotation(t);Object.keys(e).forEach((t=>this.setOptions(t,{defaultValue:e[t]})))}_getDefaultValue(t){var e=this._getOptions(t);if(e)return e.defaultValue}getDefaultValue(t){return this._getDefaultValue(t)}subscribe(t,e){var n=Symbol();if(Array.isArray(t))t.forEach((t=>{var r={id:n,name:t,callback:e};this._subscriptions.push(r)}));else{var r={id:n,name:t,callback:e};this._subscriptions.push(r)}return{unsubscribe:this._unsubscribe.bind(this,n)}}unsubscribeAll(t){this._subscriptions.forEach(((e,n)=>{e.name===t&&delete this._subscriptions[n]}))}triggerSubscriptionCallbacks(t,e){this._triggerSubscriptionCallbacks(t,!1,e)}_hasSubArray(t,e){return e.every((e=>n=>e=t.indexOf(n,e)+1)(0))}_triggerSubscriptionCallbacks(t,e,n){if(this._subscriptions){var r="object"==typeof e&&e.constructor===Object?Object.keys(this._objectToDotNotation(e)):[];this._subscriptions.forEach((e=>{t&&e.name&&!this._hasSubArray(t.split("."),e.name.split("."))&&-1===r.indexOf(e.name)||e.callback(this._get(e.name,this._data),e.name,n)}))}}_unsubscribe(t){this._subscriptions.forEach(((e,n)=>{e.id===t&&delete this._subscriptions[n]}))}_objectToDotNotation(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(t).reduce(((t,i)=>{var[s,a]=i,o="".concat(e).concat(s);return n(a)?this._objectToDotNotation(a,"".concat(o,"."),t):r[o]=a,t}),r)}_getOptions(t){var e=Object.keys(this._options).filter((e=>!t||!e||this._hasSubArray(t.split("."),e.split(".")))).reduce(((t,e)=>(t[e]=this._options[e],t)),{});return this._findOptionsByName(t,e)}_findOptionsByName(t,e){for(var n=null,r=t.split("."),i=1;i<=r.length;++i)n=e[r.slice(0,i).join(".")]||n;return n}_transformValue(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!r)return t;switch(r.type){case"custom":t=r.transformFunction(t,n,r.defaultValue);break;case"number":t=Number(t),isNaN(t)&&(t=0);break;case"integer":t=parseInt(t),isNaN(t)&&(t=0);break;case"float":t=parseFloat(t),isNaN(t)&&(t=0);break;case"boolean":t=this._convertAttributeToBoolean(t);break;case"json":if("string"!=typeof t)break;try{t=JSON.parse(t)}catch(t){}try{t=e()(t)}catch(t){}}return r.allowedValues&&0===r.allowedValues.filter((e=>t===e)).length?void 0!==r.defaultValue?r.defaultValue:null:t}_convertAttributeToBoolean(t){return null!=t&&!1!==t&&"false"!==t}}}();var s=e;for(var a in i)s[a]=i[a];i.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{default:function(){return U}});var t=n(598),e=n.n(t),i=t=>{var e;return function(){var n=this,r=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame((()=>{t.apply(n,r)}))}},s=new(e());class a{constructor(){this._nodes=[]}get(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?this._nodes.filter((e=>e.element.nodeName===t.toUpperCase())):this._nodes.map((t=>t))}upsert(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",i=this._nodes.find((e=>e[r]===t));if(i){var s=this._nodes.indexOf(i);this._nodes[s]={id:t,element:e,state:n}}else this._nodes.push({id:t,element:e,state:n})}remove(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id";this._nodes=this._nodes.filter((e=>e[r]!==t))}}var o=t=>({get:e=>t.get(e),set:(e,n)=>(t.set(e,n),n)});const l=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,c=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,u=/<[a-z][^>]+$/i,d=/>[^<>]*$/,h=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,p=/\s+$/,b=(t,e)=>0<e--&&(u.test(t[e])||!d.test(t[e])&&b(t,e)),_=(t,e,n)=>c.test(e)?t:`<${e}${n.replace(p,"")}></${e}>`,{isArray:f}=Array,{indexOf:v,slice:g}=[],m=(t,e)=>111===t.nodeType?1/e<0?e?(({firstChild:t,lastChild:e})=>{const n=document.createRange();return n.setStartAfter(t),n.setEndAfter(e),n.deleteContents(),t})(t):t.lastChild:e?t.valueOf():t.firstChild:t;var y=function(t){var e="fragment",n="template",r="content"in s(n)?function(t){var e=s(n);return e.innerHTML=t,e.content}:function(t){var r=s(e),a=s(n),o=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(t)){var l=RegExp.$1;a.innerHTML="<table>"+t+"</table>",o=a.querySelectorAll(l)}else a.innerHTML=t,o=a.childNodes;return i(r,o),r};return function(t,e){return("svg"===e?a:r)(t)};function i(t,e){for(var n=e.length;n--;)t.appendChild(e[0])}function s(n){return n===e?t.createDocumentFragment():t.createElementNS("http://www.w3.org/1999/xhtml",n)}function a(t){var n=s(e),r=s("div");return r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>",i(n,r.firstChild.childNodes),n}}(document);const C=({childNodes:t},e)=>t[e],k=t=>{const e=[];let{parentNode:n}=t;for(;n;)e.push(v.call(n.childNodes,t)),n=(t=n).parentNode;return e},{createTreeWalker:O,importNode:w}=document,S=1!=w.length,j=S?(t,e,n)=>w.call(document,y(t,e,n),!0):y,x=S?t=>O.call(document,t,129,null,!1):t=>O.call(document,t,129),E=(t,e,n)=>((t,e,n,r,i)=>{const s=n.length;let a=e.length,o=s,l=0,c=0,u=null;for(;l<a||c<o;)if(a===l){const e=o<s?c?r(n[c-1],-0).nextSibling:r(n[o-c],0):i;for(;c<o;)t.insertBefore(r(n[c++],1),e)}else if(o===c)for(;l<a;)u&&u.has(e[l])||t.removeChild(r(e[l],-1)),l++;else if(e[l]===n[c])l++,c++;else if(e[a-1]===n[o-1])a--,o--;else if(e[l]===n[o-1]&&n[c]===e[a-1]){const i=r(e[--a],-1).nextSibling;t.insertBefore(r(n[c++],1),r(e[l++],-1).nextSibling),t.insertBefore(r(n[--o],1),i),e[a]=n[o]}else{if(!u){u=new Map;let t=c;for(;t<o;)u.set(n[t],t++)}if(u.has(e[l])){const i=u.get(e[l]);if(c<i&&i<o){let s=l,d=1;for(;++s<a&&s<o&&u.get(e[s])===i+d;)d++;if(d>i-c){const s=r(e[l],0);for(;c<i;)t.insertBefore(r(n[c++],1),s)}else t.replaceChild(r(n[c++],1),r(e[l++],-1))}else l++}else t.removeChild(r(e[l++],-1))}return n})(t.parentNode,e,n,m,t);function A(t){const{type:e,path:n}=t,r=n.reduceRight(C,this);return"node"===e?(t=>{let e,n,r=[];const i=s=>{switch(typeof s){case"string":case"number":case"boolean":e!==s&&(e=s,n||(n=document.createTextNode("")),n.data=s,r=E(t,r,[n]));break;case"object":case"undefined":if(null==s){e!=s&&(e=s,r=E(t,r,[]));break}if(f(s)){e=s,0===s.length?r=E(t,r,[]):"object"==typeof s[0]?r=E(t,r,s):i(String(s));break}e!==s&&"ELEMENT_NODE"in s&&(e=s,r=E(t,r,11===s.nodeType?g.call(s.childNodes):[s]));break;case"function":i(s(t))}};return i})(r):"attr"===e?((t,e)=>{switch(e[0]){case"?":return((t,e,n)=>r=>{n!==!!r&&((n=!!r)?t.setAttribute(e,""):t.removeAttribute(e))})(t,e.slice(1),!1);case".":return((t,e)=>"dataset"===e?(({dataset:t})=>e=>{for(const n in e){const r=e[n];null==r?delete t[n]:t[n]=r}})(t):n=>{t[e]=n})(t,e.slice(1));case"o":if("n"===e[1])return((t,e)=>{let n,r=e.slice(2);return!(e in t)&&e.toLowerCase()in t&&(r=r.toLowerCase()),e=>{const i=f(e)?e:[e,!1];n!==i[0]&&(n&&t.removeEventListener(r,n,i[1]),(n=i[0])&&t.addEventListener(r,n,i[1]))}})(t,e)}switch(e){case"ref":return(t=>{let e;return n=>{e!==n&&(e=n,"function"==typeof n?n(t):n.current=t)}})(t);case"aria":return(t=>e=>{for(const n in e){const r="role"===n?n:`aria-${n}`,i=e[n];null==i?t.removeAttribute(r):t.setAttribute(r,i)}})(t)}return((t,e)=>{let n,r=!0;const i=document.createAttributeNS(null,e);return e=>{n!==e&&(n=e,null==n?r||(t.removeAttributeNode(i),r=!0):(i.value=e,r&&(t.setAttributeNodeNS(i),r=!1)))}})(t,e)})(r,t.name):(t=>{let e;return n=>{e!=n&&(e=n,t.textContent=null==n?"":n)}})(r)}const P=o(new WeakMap),N=/^(?:plaintext|script|style|textarea|title|xmp)$/i,T=(t,e)=>{const{content:n,nodes:r}=P.get(e)||P.set(e,((t,e)=>{const n=((t,e,n)=>{const r=[],{length:i}=t;for(let e=1;e<i;e++){const n=t[e-1];r.push(l.test(n)&&b(t,e)?n.replace(l,((t,n,r)=>`isµ${e-1}=${r||'"'}${n}${r?"":'"'}`)):`${n}\x3c!--isµ${e-1}--\x3e`)}r.push(t[i-1]);const s=r.join("").trim();return n?s:s.replace(h,_)})(e,0,"svg"===t),r=j(n,t),i=x(r),s=[],a=e.length-1;let o=0,c=`isµ${o}`;for(;o<a;){const t=i.nextNode();if(!t)throw`bad template: ${n}`;if(8===t.nodeType)t.data===c&&(s.push({type:"node",path:k(t)}),c="isµ"+ ++o);else{for(;t.hasAttribute(c);)s.push({type:"attr",path:k(t),name:t.getAttribute(c)}),t.removeAttribute(c),c="isµ"+ ++o;N.test(t.tagName)&&t.textContent.trim()===`\x3c!--${c}--\x3e`&&(t.textContent="",s.push({type:"text",path:k(t)}),c="isµ"+ ++o)}}return{content:r,nodes:s}})(t,e)),i=w.call(document,n,!0);return{content:i,updates:r.map(A,i)}},M=(t,{type:e,template:n,values:r})=>{const{length:i}=r;D(t,r,i);let{entry:s}=t;s&&s.template===n&&s.type===e||(t.entry=s=((t,e)=>{const{content:n,updates:r}=T(t,e);return{type:t,template:e,content:n,updates:r,wire:null}})(e,n));const{content:a,updates:o,wire:l}=s;for(let t=0;t<i;t++)o[t](r[t]);return l||(s.wire=(t=>{const{childNodes:e}=t,{length:n}=e;if(n<2)return n?e[0]:t;const r=g.call(e,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:r[0],lastChild:r[n-1],valueOf(){if(e.length!==n){let e=0;for(;e<n;)t.appendChild(r[e++])}return t}}})(a))},D=({stack:t},e,n)=>{for(let r=0;r<n;r++){const n=e[r];n instanceof L?e[r]=M(t[r]||(t[r]={stack:[],entry:null,wire:null}),n):f(n)?D(t[r]||(t[r]={stack:[],entry:null,wire:null}),n,n.length):t[r]=null}n<t.length&&t.splice(n)};function L(t,e,n){this.type=t,this.template=e,this.values=n}const{create:$,defineProperties:V}=Object,R=t=>{const e=o(new WeakMap);return V(((e,...n)=>new L(t,e,n)),{for:{value(n,r){const i=e.get(n)||e.set(n,$(null));return i[r]||(i[r]=(e=>(n,...r)=>M(e,{type:t,template:n,values:r}))({stack:[],entry:null,wire:null}))}},node:{value:(e,...n)=>M({stack:[],entry:null,wire:null},{type:t,template:e,values:n}).valueOf()}})},H=o(new WeakMap),F=(t,e)=>{const n="function"==typeof e?e():e,r=H.get(t)||H.set(t,{stack:[],entry:null,wire:null}),i=n instanceof L?M(r,n):n;return i!==r.wire&&(r.wire=i,t.textContent="",t.appendChild(i.valueOf())),t},G=R("html"),z=R("svg");var B,q;class U extends HTMLElement{constructor(){var t=super(...arguments);return t.init(),t}init(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__connected=!1,this.__childConnectedCallback=this.__childConnectedCallback.bind(this),this.__childDisconnectedCallback=this.__childDisconnectedCallback.bind(this),this.__notifyParentEvent=this.__notifyParentEvent.bind(this),this.contentChangedCallback=this.contentChangedCallback.bind(this),this.childrenChangedCallback=i(this.childrenChangedCallback.bind(this)),this._renderCallback=this._renderCallback.bind(this),this._templater=new class{constructor(t){this._context=t,this._templates=[],this._mutationObserver=new MutationObserver(this._context.contentChangedCallback.bind(this))}init(){if("object"==typeof this._context.template)this._context.template.forEach((t=>this.add(t)));else if(this._context.template){var t={name:"_default",markup:this._context.template,root:this._context,autoAppend:!0};this.add(t)}}add(t){var e={name:t.name,markup:t.markup,root:t.root||null,useShadow:!1!==t.useShadow,openShadow:!1!==t.openShadow,autoAppend:t.autoAppend||!1,prepend:t.prepend||!1};if(e.useShadow&&e.autoAppend){e.root.attachShadow({mode:e.openShadow?"open":"closed"});var n=document.createElement("div");n.setAttribute("data-render-root",""),e.root.shadowRoot.appendChild(n)}this._templates.push(e)}parseHTML(t){return(new DOMParser).parseFromString(t,"text/html").body.childNodes[0]}connect(){this._cleanUpRoot(),this._templates.forEach((t=>{if(t.root&&t.root!==this._context){if(t.useShadow||t.root.setAttribute("data-render-root",""),!t.autoAppend)return;t.prepend?this._context.insertAdjacentElement("afterbegin",t.root):this._context.appendChild(t.root)}}))}disconnect(){this._templates.forEach((t=>{t.root&&t.root!==this._context&&t.root.parentNode.removeChild(t.root)}))}render(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_default";return this._render(t)}renderAll(){this._templates.forEach((t=>{t.markup&&t.root&&F(t.root.shadowRoot&&t.root.shadowRoot.querySelector("[data-render-root]")||t.root,this._render(t.name))}))}getRoot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_default";return this._templates.find((e=>e.name===t)).root}buildFromTemplate(t){return this._observeTemplate(t),()=>{var e=Array.from(t.childNodes).map((t=>3===t.nodeType?t.textContent:t.outerHTML)).join("").replace(/\${([^}]*)}/g,((t,e)=>this._context._state.get(e))),n=[[e]];return n.raw={value:[e]},G(...n)}}hasMarkup(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_default";return!!this._templates.find((e=>e.name===t)).markup}setMarkup(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_default",e=arguments.length>1?arguments[1]:void 0;this._templates.find((e=>e.name===t)).markup=e,this._context.contentChangedCallback()}_render(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_default",e=this._templates.find((e=>e.name===t)).markup;if("function"==typeof e)return e.bind(this._context,G,z);if("object"==typeof e&&e){var n="TEMPLATE"===e.nodeName?e.content:e;return this.buildFromTemplate(n)}if("string"==typeof e){var r=document.querySelector(e),i="TEMPLATE"===r.nodeName?r.content:r;return this.buildFromTemplate(i)}return()=>null}_observeTemplate(t){this._mutationObserver.disconnect(),this._mutationObserver.observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}_cleanUpRoot(){this._templates.length&&this._templates.forEach((t=>{t.root&&F(t.root.shadowRoot&&t.root.shadowRoot.querySelector("[data-render-root]")||t.root,(()=>{return G(B||(t=[""],e||(e=t.slice(0)),B=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}))}))}}(this),this._templater.init(),this._options=new(e())({id:Symbol(),className:!1,listenChildren:!1,connectedChildren:new a,notifyParent:!1,watchContent:!1,watchGlobalState:!1}),this._options.subscribe("",this._renderCallback),this._state=new(e())(this.constructor.initialState||{}),this._state.subscribe("",this._renderCallback),this._globalState=s,this._options.subscribe("notifyParent",this.__notifyParent.bind(this)),this._options.subscribe("listenChildren",this.__listenChildren.bind(this)),this._options.subscribe("watchContent",this.__watchContent.bind(this)),this._options.subscribe("watchGlobalState",this.__watchGlobalState.bind(this)),this.__mutationObserver=new MutationObserver(this.contentChangedCallback),this.__notifyParentSubscription=null,this.__listenChildrenSubscription=null,this.__watchGlobalStateSubscription=null,Object.keys(t).forEach((e=>{this._options.set(e,t[e])})),this.constructor.stateOptions&&Object.keys(this.constructor.stateOptions).forEach((t=>{this._state.setOptions(t,this.constructor.stateOptions[t])})),this.__boundProperties(),this.__eventHandlers(),this.constructor.formAssociatedElement&&(this._internals=new(e())({form:null,name:"",value:"",disabled:!1,readonly:!1}),this._internals.subscribe("",this._renderCallback),this.__internalsObject=new class{constructor(t,e){this._context=t,this._state=e,this._state.setOptions("disabled",{type:"boolean"}),this._state.setOptions("readonly",{type:"boolean"}),this._createInterface(),this._addTemplate()}connect(){var t=this._context._templater.getRoot("_internals");this._state.set("form",t.querySelector("input").form||null)}_createInterface(){var t=this._state;Object.defineProperty(this._context,"name",{get:()=>t.get("name"),set(e){t.set("name",e)},configurable:!0}),Object.defineProperty(this._context,"value",{get:()=>t.get("value"),set(e){t.set("value",e)},configurable:!0}),Object.defineProperty(this._context,"form",{get:()=>t.get("form"),set(t){console.warn("You can't change form property!")},configurable:!0}),Object.defineProperty(this._context,"disabled",{get:()=>t.get("disabled"),set(e){t.set("disabled",e)},configurable:!0}),Object.defineProperty(this._context,"readonly",{get:()=>t.get("readonly"),set(e){t.set("readonly",e)},configurable:!0})}_addTemplate(){this._context._templater.add({name:"_internals",markup:t=>{return t(q||(e=['\n        <input\n          type="hidden"\n          name=',"\n          value=","\n          ?disabled=","\n          ?readonly=","\n        >\n      "],n||(n=e.slice(0)),q=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),this._state.get("name"),this._state.get("value"),this._state.get("disabled"),this._state.get("readonly"));var e,n},root:document.createElement("div"),useShadow:!1,autoAppend:!0,prepend:!0})}}(this,this._internals))}static get observedAttributes(){return this.formAssociatedElement?[].concat(this.formAssociatedAttributes):[]}static get formAssociatedAttributes(){return["name","value","disabled","readonly"]}connectedCallback(){this.__connected=!0;var t=this._options.get("className");t&&t.split(" ").forEach((t=>this.classList.add(t))),this._templater.connect(),this._renderCallback(),this.__notifyParentEvent("_child.connected"),this.constructor.formAssociatedElement&&this.__internalsObject.connect()}disconnectedCallback(){this.__connected=!1,this._templater.disconnect(),this.__notifyParentEvent("_child.disconnected")}attributeChangedCallback(t,e,n){this[t.replace(/-([a-z])/g,(t=>t[1].toUpperCase()))]=n}_renderCallback(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__connected&&(void 0===n.triggerRenderCallback||n.triggerRenderCallback)&&(this._templater.renderAll(),this.renderCallback&&this.renderCallback(t,e,n))}contentChangedCallback(){}childrenChangedCallback(){}handleEvent(t){this.constructor.eventHandlers&&this.__connected&&Object.keys(this.constructor.eventHandlers).forEach((e=>{var[n,r]=e.split(":");if(t.type===r&&(""===n||t.currentTarget.getAttribute("data-handler")===n)){var i=this[this.constructor.eventHandlers[e]].bind(this);if(!i)return;i(t)}}))}_dispatchEvent(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:n}))}__boundProperties(){this.constructor.boundProperties&&this.constructor.boundProperties.forEach((t=>{var e=t.name||t,n=t.options||{},r=t.as||e;Object.defineProperty(this,e,{get(){return this._state.get(r)},set(t){this._state.set(r,t,n)},configurable:!0});var i=this._state.getDefaultValue(r);void 0!==i&&this._state.set(r,i)}))}__eventHandlers(){this.constructor.eventHandlers&&Object.keys(this.constructor.eventHandlers).forEach((t=>{var[e,n]=t.split(":");""===e&&this.addEventListener(n,this)}))}__notifyParent(t){t?this.__notifyParentSubscription=this._state.subscribe("",(()=>{this.__notifyParentEvent("_child.changed")})):this.__notifyParentSubscription&&this.__notifyParentSubscription.unsubscribe()}__notifyParentEvent(t){this._options.get("notifyParent")&&this.dispatchEvent(new CustomEvent(t,{detail:{id:this._options.get("id"),state:this._state.get()},bubbles:!0}))}__listenChildren(){this._options.get("listenChildren")?(this.addEventListener("_child.connected",this.__childConnectedCallback,!0),this.addEventListener("_child.changed",this.__childChangedCallback,!0),this.__listenChildrenSubscription=this._options.subscribe("connectedChildren",this.childrenChangedCallback)):this.__listenChildrenSubscription&&(this.removeEventListener("_child.connected",this.__childConnectedCallback),this.removeEventListener("_child.changed",this.__childChangedCallback),this.__listenChildrenSubscription.unsubscribe())}__childConnectedCallback(t){t.stopPropagation(),t.target.addEventListener("_child.disconnected",this.__childDisconnectedCallback,!0),this._options.get("connectedChildren").upsert(t.detail.id,t.target,t.detail.state),this._options.triggerSubscriptionCallbacks("connectedChildren")}__childChangedCallback(t){t.stopPropagation(),this._options.get("connectedChildren").upsert(t.detail.id,t.target,t.detail.state),this._options.triggerSubscriptionCallbacks("connectedChildren")}__childDisconnectedCallback(t){t.stopPropagation(),this._options.get("connectedChildren").remove(t.detail.id),this._options.triggerSubscriptionCallbacks("connectedChildren")}__watchContent(){this._options.get("watchContent")?this.__mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0}):this.__mutationObserver.disconnect()}__watchGlobalState(){var t=this._options.get("watchGlobalState");if(t){var e=!0===t?"":t;this.__watchGlobalStateSubscription=this._globalState.subscribe(e,this._renderCallback)}else this.__watchGlobalStateSubscription&&this.__watchGlobalStateSubscription.unsubscribe()}}}(),r}()}));